# 開発ログの構造と使い方

## 概要

このドキュメントでは、マークダウンCMSプロジェクトにおける開発ログの構造と使い方について説明します。開発ログは、プロジェクトの進捗管理、タスク追跡、コードレビュー、承認プロセスを効率的に行うための重要なツールです。

## 開発ログのディレクトリ構造

開発ログは `docs/dev-logs/` ディレクトリに保存されており、以下のような構造になっています：

```
docs/dev-logs/
├── STATUS.md           # プロジェクト全体の開発状況一覧
└── tasks/              # 個別タスクの記録ファイル
    ├── task-template.md # タスク記録のテンプレート
    └── task-XXX-[stage]-[component-type]-[component-name].md # 個別タスク記録
```

## STATUS.md の役割

`STATUS.md` ファイルは、プロジェクト全体の開発状況を一覧で確認するためのファイルです。以下の情報が含まれています：

1. **タスク一覧**: タスクID、タスク名、担当者、ステータス、開始日、予定/実際の完了日
2. **コンポーネント開発状況**: Atomic Designパターンに基づいた各コンポーネントの開発状況
3. **機能開発状況**: 各機能のフロントエンド/バックエンド実装状況
4. **進捗サマリー**: 全体の進捗率、未着手/進行中/完了タスクの数

このファイルは、新しいタスクが開始されたり、タスクのステータスが変更されたりするたびに更新されます。

## タスク記録ファイル

個別のタスク記録ファイルは `tasks/` ディレクトリに保存され、以下の命名規則に従います：

```
task-[タスク番号]-[実装段階]-[コンポーネントタイプ]-[コンポーネント名].md
```

例：
- `task-001-design-atom-button.md` - タスク番号001、設計フェーズ、atomタイプのbuttonコンポーネント
- `task-002-develop-molecule-card.md` - タスク番号002、開発フェーズ、moleculeタイプのcardコンポーネント

### タスク記録テンプレート

各タスク記録ファイルは以下のテンプレートに基づいて作成されます：

```markdown
# タスク[ID]: [タスク名]

## 概要
[タスクの説明]

## 要件
- [要件1]
- [要件2]
- [要件3]

## ステータス
- [x] 開発開始: YYYY-MM-DD
- [ ] 開発完了
- [ ] レビュー依頼
- [ ] レビュー完了
- [ ] 承認済み

## コミット履歴
- なし

## テスト実装状況
- [ ] ユニットテスト実装
- [ ] エッジケーステスト
- [ ] 統合テスト

## テスト実行結果
```
[テスト実行結果をここに貼り付け]
```

## レビューコメント
(レビュー完了後に記入)

## 承認記録
(承認完了後に記入)
```

## 開発→承認フローでの使用方法

### 1. タスク開始時

新しいタスクを開始する際は、以下の手順に従います：

1. `task-template.md` をコピーして、命名規則に従った新しいファイルを作成
2. タスクの詳細情報を記入
3. ステータスの「開発開始」にチェックを入れ、開始日を記録
4. `STATUS.md` を更新して、新しいタスクを追加

```bash
# 例: タスク001の開始
cp docs/dev-logs/tasks/task-template.md docs/dev-logs/tasks/task-001-design-atom-button.md
# ファイルを編集
# STATUS.mdを更新
```

### 2. 開発中

開発作業中は、以下の情報を更新します：

1. コミット履歴を追加（コミットハッシュとメッセージ）
2. テスト実装状況を更新
3. テスト実行結果を追加

```bash
# コミット後にタスク記録を更新する例
COMMIT_HASH=$(git rev-parse --short HEAD)
COMMIT_MSG=$(git log -1 --pretty=%B)
echo "- ${COMMIT_HASH}: ${COMMIT_MSG}" >> docs/dev-logs/tasks/task-001-design-atom-button.md
```

### 3. レビュー依頼時

開発が完了し、レビューを依頼する際は以下の手順に従います：

1. ステータスの「開発完了」にチェックを入れ、完了日を記録
2. ステータスの「レビュー依頼」にチェックを入れ、依頼日を記録
3. `STATUS.md` を更新してタスクのステータスを変更
4. ファイル名を更新（必要に応じて実装段階を変更）

```bash
# 例: タスクの実装段階を「design」から「review」に変更
git mv docs/dev-logs/tasks/task-001-design-atom-button.md docs/dev-logs/tasks/task-001-review-atom-button.md
```

### 4. レビュー時

レビュアーは以下の手順でレビューを行います：

1. タスク記録ファイルを確認
2. コードをレビュー
3. 「レビューコメント」セクションにフィードバックを追加
4. ステータスの「レビュー完了」にチェックを入れ、完了日を記録
5. `STATUS.md` を更新

### 5. 承認時

承認者は以下の手順で承認を行います：

1. タスク記録ファイルと修正内容を確認
2. 「承認記録」セクションに承認情報を追加
3. ステータスの「承認済み」にチェックを入れ、承認日を記録
4. ファイル名を更新（実装段階を「approved」に変更）
5. `STATUS.md` を更新

```bash
# 例: タスクの実装段階を「review」から「approved」に変更
git mv docs/dev-logs/tasks/task-001-review-atom-button.md docs/dev-logs/tasks/task-001-approved-atom-button.md
```

## タスク記録の利点

1. **トレーサビリティ**: 各タスクの要件、進捗、コミット履歴、レビューコメントが一元管理され、追跡可能
2. **ナレッジ共有**: 設計判断、実装の詳細、レビューフィードバックが文書化され、チーム内で共有
3. **品質保証**: コードレビュー、テスト結果の記録により、品質基準の遵守を確認
4. **プロジェクト管理**: `STATUS.md` による全体進捗の可視化、ボトルネックの早期発見

## STATUS.md の更新方法

`STATUS.md` は以下のタイミングで更新します：

1. 新しいタスクが追加されたとき
2. タスクのステータスが変更されたとき
3. タスクが完了したとき
4. 週次のステータス会議の前後

`STATUS.md`の更新は手動で行いますが、将来的には自動化スクリプトの導入も検討しています。

## 注意事項

- タスク記録ファイルは常に最新の状態を保ち、変更があればすぐに更新する
- コミット履歴は省略せず、すべて記録する
- レビューコメントは建設的かつ具体的に記述する
- 承認記録には承認者名と日付を必ず含める
- `STATUS.md` の更新を忘れずに行う

---

*このドキュメントは随時更新されます。最終更新日: 2025-04-30*
