# タスク一覧取得APIテストシナリオ

## エンドポイント
`GET /api/v1/tasks`

## 概要
このテストシナリオでは、タスク一覧取得APIの機能を検証します。

## 前提条件
- テストユーザーが存在している
- テストユーザーに関連するタスクが複数存在している
- ヘルパーユーザーが存在している

## テストケース

### TC-001: 正常系 - 認証済みユーザーがタスク一覧を取得する
**入力**
- リクエストヘッダー: 有効なアクセストークン

**期待結果**
- ステータスコード: 200 OK
- レスポンスボディ: タスクの配列が返される
- 各タスクが正しいプロパティ（id, title, description, status等）を持つ

### TC-002: 正常系 - クエリパラメータによるフィルタリング
**入力**
- リクエストヘッダー: 有効なアクセストークン
- クエリパラメータ: `status=requested`

**期待結果**
- ステータスコード: 200 OK
- レスポンスボディ: statusが"requested"のタスクのみが含まれる

### TC-003: 正常系 - ページネーション
**入力**
- リクエストヘッダー: 有効なアクセストークン
- クエリパラメータ: `skip=0&limit=10`

**期待結果**
- ステータスコード: 200 OK
- レスポンスボディ: 最大10件のタスクが返される

### TC-004: 異常系 - 未認証アクセス
**入力**
- リクエストヘッダー: アクセストークンなし

**期待結果**
- ステータスコード: 401 Unauthorized
- エラーメッセージ: 認証に関するエラーメッセージ

### TC-005: 異常系 - 無効なクエリパラメータ
**入力**
- リクエストヘッダー: 有効なアクセストークン
- クエリパラメータ: `limit=-1`（無効な値）

**期待結果**
- ステータスコード: 422 Unprocessable Entity
- エラーメッセージ: パラメータに関するエラーメッセージ

## モック設定
- データベースに複数のタスクレコードを事前に用意
- 異なるステータス（requested, in_progress, completed, cancelled）のタスクを含める

## 検証項目
- レスポンスの形式と内容
- ページネーションの正しい動作
- フィルタリングの正しい動作
- 認証の検証
- エラーハンドリングの適切さ
